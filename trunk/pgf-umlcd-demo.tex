\documentclass{article}
\usepackage[margin=12mm]{geometry}

\usepackage{tikz}
\usepackage{pgf-umlcd}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{listings}
\usepackage{color}
\definecolor{listinggray}{gray}{0.92}
\lstset{ %
language=[LaTeX]TeX,
breaklines=true,
frame=single,
frameround=tttt,
basicstyle=\footnotesize\ttfamily,
backgroundcolor=\color{listinggray},
keywordstyle=\color{blue}\bfseries
}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\demo}[1]{
\begin{minipage}{.5\linewidth}
\lstinputlisting{demo/#1}
\end{minipage}~~~~~~~~~~~~~~
\begin{minipage}{.45\linewidth}
\resizebox{\linewidth}{!}{
\input{demo/#1}
}
\end{minipage}
}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{document}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\title{Drawing UML Class Diagram by using \texttt{pgf-umlcd}}
\author{Yuan Xu}
\maketitle
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\tableofcontents

\section{Simple examples}
\subsection{Class and Package}

\subsubsection{Package}
\demo{package}

\subsection{Class}
\demo{class}

\subsection{Interface}
\demo{interface}

\subsection{Inheritance}
\demo{inheritance}
 
\subsection{Association} 
\demo{association}
 
\subsection{Unidirectional association}
\demo{unidirectional-association}

\subsection{Aggregation}
\demo{aggregation}

\subsection{Composition}
\demo{composition}

\section{Visibility}
\demo{visibility}
 
\end{document}
%%% Local Variables: 
%%% mode: Tex-PDF
%%% TeX-master: t
%%% End: 
